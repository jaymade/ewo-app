<h4> {{ mode | titlecase }} an EWO </h4>

<!-- loading spinner -->
<div class="spinner-border text-info mx-auto" role="status" *ngIf="isLoading">
  <span class="sr-only">Loading...</span>
</div>


<form class="mt-5 mb-5" (submit)="onSaveEwo()" [formGroup]="ewoForm" *ngIf="!isLoading">
  <p>{{timeStamp | date}}</p>

  <!-- ewo starter -->
  <div class="form-group">
    <label for="input_starter">Your Name: </label>
    <input class="form-control" type="text" formControlName="starter" placeholder=" Who started this EWO?" [ngClass]="{ 'is-invalid': ewoForm.get('starter').invalid && ewoForm.get('starter').touched }" />
    <div *ngIf="ewoForm.get('starter').touched && ewoForm.get('starter').errors" class="invalid-feedback"> Need a
      contact name
    </div>
  </div>

  <!-- department -->
  <div class="form-group">
    <label for="status">Team / Department: </label>
    <select class="form-control" formControlName="team">
      <option selected>Choose One</option>
      <option *ngFor="let dept of departments" value="{{dept.id}}">{{dept.name}}</option>
    </select>
  </div>

  <!-- Request Type -->
  <div class="form-group">
    <label for="status">Request Type: </label>
    <select class="form-control" formControlName="type">
      <option selected>Choose One</option>
      <option *ngFor="let req of request" value="{{req.id}}">{{req.name}}</option>
    </select>
  </div>


  <!-- ewo title -->
  <div class="form-group">
    <label for="input_title">EWO Title: </label>
    <input class="form-control" type="text" formControlName="title" placeholder=" What we calling it?" [ngClass]="{ 'is-invalid': ewoForm.get('title').invalid && ewoForm.get('title').touched }" />
    <div *ngIf="ewoForm.get('title').touched && ewoForm.get('title').errors" class="invalid-feedback"> Need a title
    </div>
  </div>

  <div class="form-group">
    <label for="input_descript">Description of Project: </label>
    <textarea class="form-control" rows="4" formControlName="descript" placeholder="What we doing?" [ngClass]="{ 'is-invalid': ewoForm.get('descript').invalid && ewoForm.get('descript').touched }"></textarea>

    <div *ngIf="ewoForm.get('descript').touched && ewoForm.get('descript').errors" class="invalid-feedback"> Give us an
      idea of what you need done.
    </div>
  </div>

  <div class="form-group">
    <label for="status">Status: </label>
    <select class="form-control" formControlName="status">
      <option selected>Update Status</option>
      <option value="active">Active</option>
      <option value="closed">Closed</option>
      <option value="hold">Hold</option>
    </select>
  </div>

  <div class="form-group">

    <label for="fileUpload">Add File: <small class="orange">Optional</small> </label>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text" id="inputGroupFileAddon01">Upload</span>
      </div>
      <div class="custom-file">
        <input type="file" class="custom-file-input" name="fileUpload" #fileUpload>
        <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
      </div>
    </div>
  </div>

  <div class="form-group">
    <button class="btn btn-primary" type="submit"> {{btnTxt}} </button>
  </div>
</form>
