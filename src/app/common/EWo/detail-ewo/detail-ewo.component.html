<h3>EWO Details</h3>
<h5>EWO #: <span class="orange">{{ewo?._id}}</span></h5>

<div class="row mt-3">

  <div class="col">
    <h5>User Input</h5>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <strong class="mr-3"> Start Date: </strong>
        <span class="data float-right">{{ewo?.startDate}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Initiator: </strong>
        <span class="data float-right"> {{ewo?.starter}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Department / Team: </strong>
        <span class="data float-right"> {{ewo?.team}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Last Updated: </strong>
        <span class="data float-right"> {{ewo?.lastupdated}} </span>
      </li>
    </ul>
  </div>

  <div class="col">
    <h5>Engineering Info</h5>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <strong class="mr-3"> Request Type: </strong>
        <span class="data float-right"> {{ewo?.reqtype}} </span>
      </li>
      <!-- <li class="list-group-item">
        <strong class="mr-3"> New Part: </strong>
        <span class="data float-right"> {{ewo?.newPart}} </span>
      </li> -->
      <li class="list-group-item">
        <strong class="mr-3"> Part Number: </strong>
        <span class="data float-right"> {{ewo?.partNum}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Priority <small class="blue">(1=low - 5=high)</small>: </strong>
        <span class="data float-right"> {{ewo?.priority}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Assigment: </strong>
        <span class="data float-right"> {{ewo?.assigment}} </span>
      </li>

      <li class="list-group-item">
        <strong class="mr-3"> Hours: </strong>
        <span class="data float-right">{{ewo?.hours}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Status: </strong>
        <span class="data float-right"> {{ewo?.status}} </span>
      </li>
    </ul>
  </div>

  <div class="col">
    <h5>Purchasing Info</h5>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <strong class="mr-3"> Economic Order Quantity <small class="blue">(EOQ)</small>: </strong>
        <span class="data float-right"> {{ewo?.eoq}}</span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Annual Sales Quantity <small class="blue">(ASQ)</small>: </strong>
        <span class="data float-right"> {{ewo?.asq}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Min Order Quantity <small class="blue">(MOQ)</small>: </strong>
        <span class="data float-right">{{ewo?.moq}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Order Quantity Purchased <small class="blue">(OQP)</small>: </strong>
        <span class="data float-right">{{ewo?.oqp}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Vender Number: </strong>
        <span class="data float-right">{{ewo?.vendnum}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Lead Time: </strong>
        <span class="data float-right">{{ewo?.leadtime}} </span>
      </li>
    </ul>
  </div>

  <div class="col-12 mt-5">
    <h5>EWO info</h5>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <strong class="mr-3"> Title: </strong>
        <span class="">{{ewo?.title}} </span>
      </li>
      <li class="list-group-item">
        <strong class="mr-3"> Description: </strong>
        <span class="">{{ewo?.descript}} </span>
      </li>
    </ul>
  </div>

</div>


<!-- eng update form -->
<div *ngIf="engineer">
  <form class="mt-5 mb-5" *ngIf="ewo" (submit)="onUpdateEwo()" [formGroup]="ewoUpdateForm">
    <div class="row bg border p-3 rounded">
      <h6>Engineering Update Section</h6>

      <!-- timestamp -->
      <div class="col-12">
        <p>Timestamp: {{timestamp | date}}</p>
        <input type="hidden" formControlName="lastupdated" />
      </div>

      <!-- Assigment -->
      <div class="form-group col">
        <label for="status">Assignment: </label>
        <select class="form-control" formControlName="assignment">
          <option *ngFor="let ass of assigments" value="{{ass.id}}">{{ass.name}}</option>
        </select>
      </div>


      <!-- Status change -->
      <div class="form-group col">
        <label for="status">Status Change </label>
        <select class="form-control" formControlName="status">
          <option *ngFor="let status of statuses" value="{{status.id}}">{{status.name}}</option>
        </select>
      </div>
      <!-- Request type change -->
      <div class="form-group col">
        <label for="status">Request Type Change </label>
        <select class="form-control" formControlName="reqtype">
          <option *ngFor="let req of requests" value="{{req.id}}">{{req.name}}</option>
        </select>
      </div>
      <!-- hours -->
      <div class="form-group col">
        <label for="status">Hours </label>
        <input class="form-control" type="text" formControlName="hours" />
      </div>
      <!-- submit btn -->
      <div class="form-group col-12">
        <button class="btn btn-primary" type="submit">Update EWO</button>
      </div>

    </div>
  </form>
</div>

<div class="row">

  <code class="col">From DB: <br>
    <pre>{{ewo | json}}</pre>
  </code>
  <code class="col"> Updated info: <br>
    <!-- <pre>{{ewoUpdateForm.value | json }}</pre> -->
  </code>
  <!-- <code class="col">Valid Form: {{ewoUpdateForm.valid}} </code> -->
</div>
